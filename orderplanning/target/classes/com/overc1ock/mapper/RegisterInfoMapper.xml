<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="com.overc1ock.mapper.RegisterInfoMapper">
	
	<!-- 협력 업체 목록 출력 -->
	<select id="getSubcontractor" resultType="com.overc1ock.domain.SubcontractorVO">
		SELECT subcontractor_name, subcontractor_person, subcontractor_tel, subcontractor_email, subcontractor_address, subcontractor_date
		FROM subcontractor
		ORDER BY subcontractor_date
	</select>
	
	<!-- 협력 업체 등록 -->
	<insert id="registerSubcontractor">
		INSERT INTO subcontractor (subcontractor_name, subcontractor_person, subcontractor_tel, subcontractor_email, subcontractor_address)
		VALUES (#{ subcontractor_name }, #{ subcontractor_person }, #{ subcontractor_tel }, #{ subcontractor_email }, #{ subcontractor_address })
	</insert>
	
	<!-- 제품 생산 계획 목록 출력 -->
	<select id="getProductionPlan" resultType="com.overc1ock.domain.ProductionPlanVO">
		SELECT ppp_code, product_name, production, process, production_date, ppp_registration_date
		FROM products_production_plan LEFT JOIN product USING(product_name)
		ORDER BY ppp_registration_date
	</select>
	
	<!-- 제품명 가져오기 -->
	<select id="getProductName" resultType="com.overc1ock.domain.ProductionPlanVO">
		SELECT product_name
		FROM product
	</select>
	
	<!-- 제품 생산 계획 등록 -->
	<insert id="registerProductionPlan">
		INSERT INTO products_production_plan (product_name, production, process, production_date)
		VALUES (#{ product_name }, #{ production }, #{ process }, #{ production_date })
	</insert>
    
</mapper>